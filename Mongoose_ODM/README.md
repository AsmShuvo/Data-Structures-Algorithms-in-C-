# Mongoose ODM - ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶≠‡¶ø‡¶â ‡¶®‡ßã‡¶ü‡¶∏ (English-Bangla Mixed) üçÉ

## ‡ßß. Mongoose ‡¶ï‡¶ø?

- **‡¶∏‡¶Ç‡¶ú‡ßç‡¶û‡¶æ**: Mongoose ‡¶π‡¶≤‡ßã MongoDB-‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø **ODM (Object Data Modeling)** ‡¶≤‡¶æ‡¶á‡¶¨‡ßç‡¶∞‡ßá‡¶∞‡¶ø‡•§ ‡¶è‡¶ü‡¶ø Node.js ‡¶è‡¶®‡¶≠‡¶æ‡¶Ø‡¶º‡¶∞‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá‡•§
- **‡¶∏‡¶π‡¶ú ‡¶ï‡¶•‡¶æ‡ßü**: MongoDB-‡¶§‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶°‡ßá‡¶ü‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞ (Schema) ‡¶°‡¶ø‡¶´‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶Æ‡¶∞‡¶æ Mongoose ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶ø‡•§ Raw MongoDB ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ö‡ßá‡ßü‡ßá ‡¶è‡¶ü‡¶ø ‡¶Ö‡¶®‡ßá‡¶ï ‡¶¨‡ßá‡¶∂‡¶ø ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶¶‡ßá‡ßü‡•§
- **‡¶§‡ßÅ‡¶≤‡¶®‡¶æ**: SQL-‡¶è ‡¶Ø‡ßá‡¶Æ‡¶® Table ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡ßá, NoSQL (MongoDB)-‡¶§‡ßá ‡¶∏‡ßá‡¶ü‡¶æ ‡¶•‡¶æ‡¶ï‡ßá ‡¶®‡¶æ (Schemaless)‡•§ Mongoose ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∏‡ßá‡¶á ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞‡¶ü‡¶æ ‡¶´‡ßã‡¶∞‡ßç‡¶∏ ‡¶ï‡¶∞‡¶ø ‡¶Ø‡¶æ‡¶§‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶ï‡¶®‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü (Consistent) ‡¶•‡¶æ‡¶ï‡ßá‡•§

---

## ‡ß®. ‡¶Æ‡ßÇ‡¶≤ ‡¶â‡¶™‡¶æ‡¶¶‡¶æ‡¶®‡¶∏‡¶Æ‡ßÇ‡¶π (Core Concepts)

### A. ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ (Schema)

‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ ‡¶π‡¶≤‡ßã ‡¶°‡ßá‡¶ü‡¶æ‡¶∞ ‡¶¨‡ßç‡¶≤‡ßÅ-‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü (blueprint) ‡¶¨‡¶æ ‡¶®‡¶ï‡¶∂‡¶æ‡•§

- "‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ‡¶ü‡¶æ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶ï‡ßá‡¶Æ‡¶® ‡¶π‡¶¨‡ßá, ‡¶ï‡¶ø ‡¶ï‡¶ø ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶•‡¶æ‡¶ï‡¶¨‡ßá, ‡¶ï‡ßã‡¶®‡¶ü‡¶æ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Ç ‡¶π‡¶¨‡ßá ‡¶Ü‡¶∞ ‡¶ï‡ßã‡¶®‡¶ü‡¶æ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶π‡¶¨‡ßá ‚Äì ‡¶è‡¶∏‡¶¨ ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ‡¶§‡ßá ‡¶°‡¶ø‡¶´‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡•§"

### B. ‡¶Æ‡¶°‡ßá‡¶≤ (Model)

‡¶Æ‡¶°‡ßá‡¶≤ ‡¶π‡¶≤‡ßã ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ‡¶∞ ‡¶ì‡¶™‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡¶∞‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶®‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ü‡¶∞ (Constructor) ‡¶¨‡¶æ ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡•§

- "‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ ‡¶°‡¶ø‡¶´‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ø‡¶ñ‡¶® ‡¶∏‡ßá‡¶ü‡¶æ‡¶ï‡ßá ‡¶Æ‡¶°‡ßá‡¶≤‡ßá ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶ø, ‡¶§‡¶ñ‡¶® ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá CRUD ‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶™‡¶æ‡¶á (‡¶Ø‡ßá‡¶Æ‡¶® `.find()`, `.save()`)‡•§"
- **‡¶∞‡¶ø‡¶≤‡ßá‡¶∂‡¶®**: `Schema` = ‡¶≤‡¶ú‡¶ø‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ï‡¶ö‡¶æ‡¶∞, `Model` = ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶ü‡ßÅ‡¶≤‡•§

---

## ‡ß©. ‡¶ï‡ßá‡¶® Mongoose ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®? (Direct Driver vs Mongoose)

‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶≠‡¶ø‡¶â‡ßü‡¶æ‡¶∞ ‡¶Ø‡¶¶‡¶ø ‡¶ú‡¶ø‡¶ú‡ßç‡¶û‡ßá‡¶∏ ‡¶ï‡¶∞‡ßá "MongoDB ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡¶§‡ßá Mongoose ‡¶ï‡ßá‡¶®?" ‚Äì ‡¶è‡¶á ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡¶≤‡¶¨‡ßá‡¶®:

1.  **‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶® (‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£)**:
    - _‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ_: MongoDB-‡¶§‡ßá ‡¶¨‡¶æ‡¶á ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶Ø‡ßá ‡¶ï‡ßá‡¶â ‡¶Ø‡¶æ ‡¶á‡¶ö‡ßç‡¶õ‡¶æ ‡¶§‡¶æ‡¶á ‡¶á‡¶®‡¶∏‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ Mongoose ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶¨‡¶≤‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø "Email ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶•‡¶æ‡¶ï‡¶§‡ßá‡¶á ‡¶π‡¶¨‡ßá" (`required: true`) ‡¶¨‡¶æ "Age ‡¶´‡¶ø‡¶≤‡ßç‡¶°‡¶ü‡¶æ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶á ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá"‡•§
2.  **‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Æ‡ßá‡¶•‡¶° ‡¶ì ‡¶Æ‡¶ø‡¶°‡¶≤‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞ (Hooks)**:
    - _‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ_: ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶¨‡¶æ ‡¶™‡¶∞‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶∞‡¶æ‡¶® ‡¶ï‡¶∞‡¶æ ‡¶∏‡¶π‡¶ú‡•§ ‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂ (hash) ‡¶ï‡¶∞‡¶æ (`pre-save hook`)‡•§
3.  **‡¶∞‡¶ø‡¶≤‡ßá‡¶∂‡¶®‡¶∂‡¶ø‡¶™‡¶∏ (Population)**:
    - _‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ_: SQL-‡¶è‡¶∞ JOIN-‡¶è‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶ï‡¶æ‡¶ú Mongoose-‡¶è `.populate()` ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶π‡¶ú‡ßá ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡•§ ‡¶è‡¶ï ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶®‡ßá‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶®‡ßá‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶ñ‡ßÅ‡¶¨ ‡¶∏‡¶π‡¶ú‡•§

---

## ‡ß™. ‡¶Æ‡¶ø‡¶°‡¶≤‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞ / ‡¶π‡ßÅ‡¶ï‡¶∏ (Hooks Explanation)

Mongoose-‡¶è ‡¶≤‡¶æ‡¶á‡¶´‡¶∏‡¶æ‡¶á‡¶ï‡ßá‡¶≤ ‡¶π‡ßÅ‡¶ï ‡¶•‡¶æ‡¶ï‡ßá‡•§ ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ß‡¶∞‡¶£‡ßá‡¶∞ ‡¶π‡ßÅ‡¶ï ‡¶π‡¶≤‡ßã:

1.  **Pre Hooks**: ‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ _‡¶Ü‡¶ó‡ßá_ ‡¶∞‡¶æ‡¶® ‡¶π‡ßü‡•§
    - _‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£_: `schema.pre('save')` -> ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶†‡¶ø‡¶ï ‡¶Ü‡¶ó ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡•§
2.  **Post Hooks**: ‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ _‡¶™‡¶∞‡ßá_ ‡¶∞‡¶æ‡¶® ‡¶π‡ßü‡•§
    - _‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£_: `schema.post('save')` -> ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡ßá‡¶ü ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏‡¶´‡ßÅ‡¶≤ ‡¶π‡¶≤‡ßá ‡¶§‡¶æ‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ì‡ßü‡ßá‡¶≤‡¶ï‡¶æ‡¶Æ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡•§

---

## ‡ß´. ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶≠‡¶ø‡¶â ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡¶∏‡¶Æ‡ßÇ‡¶π (Common Questions) ‚ùì

**‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®: Mongoose-‡¶è `Schema` ‡¶Ü‡¶∞ `Collection`-‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡¶æ‡¶∞‡ßç‡¶•‡¶ï‡ßç‡¶Ø ‡¶ï‡¶ø?**

- **Schema**: ‡¶è‡¶ü‡¶ø ‡¶ï‡ßã‡¶°-‡¶≤‡ßá‡¶≠‡ßá‡¶≤ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶®‡•§ ‡¶è‡¶ü‡¶ø ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶ï‡ßá‡¶Æ‡¶® ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶Æ‡ßá‡¶®‡ßá ‡¶ö‡¶≤‡¶¨‡ßá‡•§
- **Collection**: ‡¶è‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶∏‡¶≤ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ (Container) ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ú‡¶Æ‡¶æ ‡¶•‡¶æ‡¶ï‡ßá‡•§ ‡¶Æ‡¶°‡ßá‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø‡¶∞ ‡¶∏‡¶Æ‡ßü Mongoose ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶® ‡¶¨‡¶æ‡¶®‡¶ø‡ßü‡ßá ‡¶®‡ßá‡ßü‡•§

**‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®: Mongoose-‡¶è ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶® ‡¶´‡ßá‡¶á‡¶≤ ‡¶π‡¶≤‡ßá ‡¶ï‡¶ø ‡¶π‡ßü?**

- Mongoose ‡¶è‡¶ï‡¶ü‡¶ø `ValidationError` ‡¶•‡ßç‡¶∞‡ßã (throw) ‡¶ï‡¶∞‡¶¨‡ßá‡•§ `required` ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶Æ‡¶ø‡¶∏‡¶ø‡¶Ç ‡¶π‡¶≤‡ßá ‡¶¨‡¶æ ‡¶ü‡¶æ‡¶á‡¶™ ‡¶®‡¶æ ‡¶Æ‡¶ø‡¶≤‡¶≤‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶π‡¶¨‡ßá ‡¶®‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßã‡¶° ‡¶è‡¶∞‡¶∞ ‡¶¶‡ßá‡¶¨‡ßá (Promise rejection)‡•§

**‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®: `populate()` ‡¶Æ‡ßá‡¶•‡¶°‡¶ü‡¶æ ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá?**

- ‡¶è‡¶ü‡¶ø ‡¶Ü‡¶∏‡¶≤‡ßá ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶ï‡ßÅ‡ßü‡ßá‡¶∞‡¶ø ‡¶ö‡¶æ‡¶≤‡¶æ‡ßü‡•§ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶Æ‡ßá‡¶á‡¶® ‡¶°‡ßá‡¶ü‡¶æ ‡¶Ü‡¶®‡ßá, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶ì‡¶á ‡¶°‡ßá‡¶ü‡¶æ‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏ ‡¶Ü‡¶á‡¶°‡¶ø (Ref ID) ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶è‡¶®‡ßá ‡¶ú‡ßã‡ßú‡¶æ ‡¶≤‡¶æ‡¶ó‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡ßü‡•§ **‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ**: ‡¶è‡¶ü‡¶ø ‡¶¨‡ßá‡¶∂‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶∏‡ßç‡¶≤‡ßã ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶è‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶≤‡ßá‡¶≠‡ßá‡¶≤‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá, ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶≤‡ßá‡¶≠‡ßá‡¶≤‡ßá ‡¶®‡ßü‡•§

---

## ‡ß¨. ‡¶ï‡ßã‡¶° ‡¶∏‡ßç‡¶®‡¶ø‡¶™‡ßá‡¶ü (Code Snippet)

‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶≠‡¶ø‡¶â ‡¶¨‡¶æ ‡¶™‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßÅ‡¶á‡¶ï ‡¶∏‡¶ø‡¶®‡¶ü‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏:

```javascript
/* ==========================================
   ‡ßß. ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ ‡¶§‡ßà‡¶∞‡¶ø
   ========================================== */
const mongoose = require("mongoose");
const { Schema } = mongoose;

// ‡¶∏‡ßç‡¶ï‡¶ø‡¶Æ‡¶æ ‡¶°‡¶ø‡¶´‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡¶æ
const userSchema = new Schema(
  {
    name: {
      type: String,
      required: [true, "‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶®"], // ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶è‡¶∞‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú
      trim: true, // ‡¶Ü‡¶ó‡ßá-‡¶™‡¶ø‡¶õ‡ßá‡¶∞ ‡¶∏‡ßç‡¶™‡ßá‡¶∏ ‡¶´‡ßá‡¶≤‡ßá ‡¶¶‡ßá‡¶¨‡ßá
    },
    email: {
      type: String,
      unique: true, // ‡¶°‡ßÅ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶ü ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶Ü‡¶ü‡¶ï‡¶æ‡¶§‡ßá
      lowercase: true,
    },
    age: {
      type: Number,
      min: 18, // ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®
    },
    role: {
      type: String,
      enum: ["user", "admin"], // ‡¶è‡¶á ‡¶¶‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶π‡¶¨‡ßá ‡¶®‡¶æ
      default: "user",
    },
  },
  { timestamps: true }
); // createdAt, updatedAt ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶π‡¶¨‡ßá

/* ==========================================
   ‡ß®. ‡¶Æ‡¶ø‡¶°‡¶≤‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞ (Hooks)
   ========================================== */
// ‡¶™‡ßç‡¶∞‡¶ø-‡¶∏‡ßá‡¶≠ ‡¶π‡ßÅ‡¶ï: ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶∞‡¶æ‡¶® ‡¶π‡¶¨‡ßá
userSchema.pre("save", async function (next) {
  // ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶∏‡¶¨‡ßá
  console.log("‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§‡¶ø ‡¶ö‡¶≤‡¶õ‡ßá...");
  next();
});

/* ==========================================
   ‡ß©. ‡¶Æ‡¶°‡ßá‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø
   ========================================== */
// 'User' ‡¶Æ‡¶°‡ßá‡¶≤ -> MongoDB-‡¶§‡ßá 'users' (plural) ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶® ‡¶¨‡¶æ‡¶®‡¶æ‡¶¨‡ßá
const User = mongoose.model("User", userSchema);

/* ==========================================
   ‡ß™. ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ (Usage)
   ========================================== */
async function registerUser() {
  try {
    const newUser = await User.create({
      name: "  Karim  ", // trim ‡¶π‡ßü‡ßá "Karim" ‡¶π‡¶¨‡ßá
      email: "KARIM@test.com", // lowercase ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá
      age: 22,
      // role ‡¶®‡¶æ ‡¶¶‡¶ø‡¶≤‡ßá ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü 'user' ‡¶π‡¶¨‡ßá
    });
    console.log("‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá:", newUser);
  } catch (err) {
    console.error("‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá:", err.message);
  }
}
```
